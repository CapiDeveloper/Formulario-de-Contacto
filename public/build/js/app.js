const formulario=document.querySelector("#formulario"),divErrores=document.querySelector("#formulario .errores"),email=document.querySelector("#email"),asunto=document.querySelector("#asunto"),mensaje=document.querySelector("#mensaje"),btnEnviar=document.querySelector("#enviar"),spinner=document.querySelector(".aparecer"),er=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;function agregarContacto(e){if(!(e.target.value.trim().length>0))return btnEnviar.classList.contains("cursor")||btnEnviar.classList.add("cursor"),btnEnviar.disabled=!0,e.target.style.border="1px solid red",void mostrarErrores("Todos los campos son obligatorios");if(e.target.style.border="1px solid #66c1df",document.querySelector(".error")&&document.querySelector(".error").remove(),"email"===e.target.type){if(!er.test(email.value))return btnEnviar.classList.contains("cursor")||btnEnviar.classList.add("cursor"),btnEnviar.disabled=!0,mostrarErrores("El email es invalido"),void(e.target.style.border="1px solid red");e.target.style.border="1px solid #66c1df"}er.test(email.value)&&""!==asunto.value&&""!==mensaje.value&&(btnEnviar.disabled=!1,btnEnviar.classList.remove("cursor"))}function mostrarErrores(e){const r=document.createElement("P");r.textContent=e,r.classList.add("error");0===document.querySelectorAll(".error").length&&divErrores.appendChild(r)}function enviarDatos(e){e.preventDefault(),spinner.classList.remove("aparecer"),setTimeout(()=>{spinner.classList.add("aparecer"),formulario.reset(),Swal.fire({position:"center",icon:"success",title:"Enviado Correctamente",showConfirmButton:!1,timer:2500}),btnEnviar.classList.add("cursor"),btnEnviar.disabled=!0},3e3)}document.addEventListener("DOMContentLoaded",()=>{btnEnviar.disabled=!0,email.addEventListener("blur",agregarContacto),asunto.addEventListener("blur",agregarContacto),mensaje.addEventListener("blur",agregarContacto),btnEnviar.addEventListener("click",enviarDatos)});